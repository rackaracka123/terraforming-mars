# Terraforming Mars Card Assets

This directory contains the card data for the Terraforming Mars game implementation.

## Files Overview

### üì¶ Source Data (CSV)
- `cards.csv` - Card definitions and properties
- `behaviors.csv` - Card behavior definitions and effects

These CSV files are the source of truth for card data.

### üé≤ Generated Data (DO NOT EDIT MANUALLY)
- `terraforming_mars_cards.json` - **Auto-generated** card database with full behavior data and pack information

‚ö†Ô∏è **Important**: This file is automatically generated by the card parser tool. Any manual edits will be overwritten the next time the parser runs.

### ‚úèÔ∏è Editable Configuration
- `terraforming_mars_card_pack.json` - **Editable** card ID to pack mapping

This file maps card IDs to their expansion pack. You can manually edit this file to:
- Reassign cards to different packs
- Add new pack identifiers
- Update pack names

## Workflow

### Regenerating Card Data

When you make changes to the source CSV files or pack mappings, regenerate the cards JSON:

```bash
cd backend
go run tools/parse_cards.go assets/terraforming_mars_cards.json
```

This will:
1. Parse `cards.csv` and `behaviors.csv`
2. Load pack information from `terraforming_mars_card_pack.json`
3. Combine all data and generate `terraforming_mars_cards.json`

### Extracting Pack Information

If you have a cards JSON file with pack data embedded, you can extract it to the pack mapping file:

```bash
cd backend
go run tools/extract_pack_info.go assets/terraforming_mars_card_pack.json
```

This is useful when:
- Importing card data from external sources
- Creating the initial pack mapping file
- Updating pack assignments in bulk

### Adding New Cards

1. Add card definition to `cards.csv`
2. Add behaviors to `behaviors.csv`
3. Add pack assignment to `terraforming_mars_card_pack.json`
4. Run the parser to regenerate `terraforming_mars_cards.json`

### Changing Pack Assignments

1. Edit `terraforming_mars_card_pack.json`
2. Update the pack for any card ID
3. Run the parser to regenerate `terraforming_mars_cards.json`

## Pack Identifiers

Current pack identifiers used in the game:
- `base-game` - Base Terraforming Mars game
- `corporate-era` - Corporate Era expansion
- `prelude` - Prelude expansion
- `venus-next` - Venus Next expansion
- `colonies` - Colonies expansion
- `turmoil` - Turmoil expansion
- `promo` - Promotional cards

## File Format

### terraforming_mars_card_pack.json
```json
{
  "001": "base-game",
  "002": "corporate-era",
  "P01": "prelude",
  "V01": "venus-next"
}
```

Simple map of card ID to pack identifier.

### terraforming_mars_cards.json
Complex card structure with behaviors, requirements, and metadata. **Generated automatically** - do not edit manually.
